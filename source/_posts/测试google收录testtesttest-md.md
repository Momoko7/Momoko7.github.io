---
title: 测试google收录testtesttest.md
toc: true
date: 2018-07-15 01:54:08
tags:
        - hexo
        - seo
        - 笔记
---
目的：让你的文章在google中被搜索到

<!--more-->

<!--
本意是测试用
现在是认为有必要写篇博客
但今天忒晚了，一不小心就两点半。。。改天补上

记：
seo 优化
百度收录 给成熟的链接 反正百度多的是这个教程

谷歌收录踩过的坑
添加网站
验证网站 下载文件 
hexo -g 会默认处理*.html所有文件 
解决方法： layout: false

站点地图？

-->

## 百度收录站点
百度收录站点的教程百度一抹多，此处略。
but ...  仍想吐槽一波
![百度站点收录](/assets/blogImg/20180717-1.png)
这都多久了还没有收录成功   不知道还要等多久  ==!

正式教程start
## 谷歌收录站点
查看是否被收录，在搜索引擎上输入`site:momoko7.top`，与百度一样，如果能搜到则已被收录（如下图），否则就没有。
![谷歌站点收录](/assets/blogImg/20180717-2.png)
Look! 搜索结果都是我的文章呢 (虽然并没有什么用.....  )

**Let's go step by step ！**
## step1 验证网站
目的：验证网站是你的。
网址：[谷歌搜索引擎提交入口](https://www.google.com/webmasters/tools/home?hl=zh-CN)

**1.** 登录成功后->添加属性->输入你站点的网址->进入验证页面
![谷歌验证网址](/assets/blogImg/20180717-3.png)

**2.** 验证域名。我的域名是阿里云买的，貌似个别不同家域名的推荐验证方式不一样，总之直接按照推荐的方式进行验证就行了。hin简单的。
**需要注意的是：上传文件到站点目录时(也就是上图中的第2步)，直接复制该文件到source目录下，但由于是html文件，`hexo -d`时会默认将其编辑成网页文件，所以必须要加上`layout:false`，如下：**
```
layout: false
title: "googlesearch"
date: 
---
google-site-verification: googleb02xxxxxxxxxxxx.html
```

**3.** 继续上图中的第3步，出现如下结果则说明验证成功
![谷歌验证网址](/assets/blogImg/20180717-4.png)

4.人机身份验证。约莫一两分钟之后你就可在google搜索到你的站点啦~  是不是hin快呢

谷歌相对于百度 这效率简直不能更高了  分分钟就搞定了

## step2 生成并上传站点地图
站点地图是一种文件，你可以通过该文件列出你网站上的网页，从而将您网站内容的组织架构告知搜索引擎。Googleb搜索引擎的网页抓取工具会读取此文件，以便更加智能地抓取您的网站。
如何生成呢？
首先，在hexo根目录下安装谷歌站点地图文件：
```
$ npm install hexo-generator-sitemap --save
```
进行编译：
```
$ hexo g
```
如果编译成功你就会发现在public目录下新生成了`sitemap.xml`文件。现在我们需要做的就是将该文件提交至[谷歌站长工具](https://www.google.com/webmasters/tools/)
![谷歌提交站点地图](/assets/blogImg/20180717-6.png)
点击添加属性，输入`sitemap.xml`，可以先进行测试是否有问题，然后提交就行了。如果你有生成百度的站点地图也可以将生成的`baidu_urls.txt`文件一起提交至谷歌。 提交成功之后可以看到你的提交状态。如下图：
![谷歌提交站点地图](/assets/blogImg/20180717-7.png)
谷歌审核很快的 我是昨晚提交的 今天就可以全部搜索到了

## 一点小问题
测试的时候，搜索自己的文章，出现下面这种情况...
![bug](/assets/blogImg/20180717-10.png)
![bug](/assets/blogImg/20180717-11.png)

然后再所搜最新发布的，却又是正常的...
![bug](/assets/blogImg/20180717-8.png)
![bug](/assets/blogImg/20180717-9.png)

思来想去，第一种情况的博客地址是`域名/年/月/日/title`格式，这不是hexo生成博客的默认地址格式么？之前因为添加评论功能的时候有bug然后我给改成后面仅有title的格式了。
所以由*现象*可以得出：在谷歌搜索出来链接就是在生成文章时候的地址。因为我搜索修改格式之前发布的文章通通都是第一种情况，而搜索后来发布的文章却也能正常访问。结果再次印证了上诉结论。
但是，从*理论*上讲，这个搜索出来的地址应该是提交的站点地图里的地址才对呀。站点地图里的地址是这样的：
![bug](/assets/blogImg/20180717-12.png)

反正我是已经有点懵了。现象和理论不匹配.....  或许是hexo他有他自己的想法吧......
虽然是懵x状态   但是解决方案还是有的  
 
**解决方案：**
> 要解决不是没有方法，但是有个前提，那就是你足够闲还有足够精力还有足够的闲 和闲。  
  好了，不卖关子了。解决方案就是把你之前的文章删了，重新`hexo new`重新生成一次再发布。 我是没这么闲了.....   反正也搜不到我这来（耸肩.gif）
  或许你会说，直接把`public`和`.deploy_git`目录给删掉再重新部署不就完了？ hh 年轻人,没有用的，我这么机智的能没有想到么？（emmmm..）不好意思，有点飘了，或许还有更便捷的解决方案，只是我还没有修炼到位而已。又或许，这就不算个问题......


## 课堂笔记
### 1.查看是否安装过某个模块
很多时候我们会忘记是否安装过某个模块，这个时候怎么办呢？
  * 去看 node_modules 文件夹的目录
  * 运行 `npm list [pkg]`命令
    - 查看某个项目是否安装，就在该目录下运行`npm list [pkg]`
    - 查看是否全局安装，则运行`npm list [pkg] -g`
    例：![cmd](/assets/blogImg/20180717-5.png)
    由于`hexo-generator-sitemap`是局部安装，所以第一条命令输出empty，第二条命令直接输出模块名以及版本号。
  


end today
晚安